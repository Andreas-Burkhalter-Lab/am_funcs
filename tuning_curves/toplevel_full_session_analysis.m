% input_files.dff_file = 'dff_20015_2020-05-19_plane1_proc';
% input_files.triggertiming_file = '20015_2020-05-19_trigdata_edited';
% input_files.regops_file = 'regops_20015_2020-05-19';
% input_files.scopetiming_file_rf = '20015_2020-05-19_trigdata_edited_scopetiming_rf';
% input_files.scopetiming_file_dark = '20015_2020-05-19_trigdata_edited_scopetiming_dark';
% input_files.scopetiming_file_tuning = '20015_2020-05-19_trigdata_edited_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_19-May-2020 04;20;55_rf';
% input_files.stimdata_file_tuning = 'stimdata_19-May-2020 05;24;48_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_20015_2020-05-18_plane1_proc';
% input_files.triggertiming_file = '20015_2020-05-18_trigdata_edited';
% input_files.regops_file = 'regops_20015_2020-05-18';
% input_files.scopetiming_file_rf = '20015_2020-05-18_trigdata_edited_scopetiming_rf';
% input_files.scopetiming_file_dark = '20015_2020-05-18_trigdata_edited_scopetiming_dark';
% input_files.scopetiming_file_tuning = '20015_2020-05-18_trigdata_edited_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_18-May-2020 02;17;08_rf';
% input_files.stimdata_file_tuning = 'stimdata_18-May-2020 03;06;50_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_20015_2020-05-16_plane1_proc';
% input_files.triggertiming_file = '20015_2020-05-16_trigdata';
% input_files.regops_file = 'regops_20015_2020-05-16';
% input_files.scopetiming_file_rf = '20015_2020-05-16_trigdata_scopetiming_rf';
% input_files.scopetiming_file_dark = '20015_2020-05-16_trigdata_scopetiming_dark';
% input_files.scopetiming_file_tuning = '20015_2020-05-16_trigdata_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_16-May-2020 04;04;19_rf';
% input_files.stimdata_file_tuning = 'stimdata_16-May-2020 04;53;04_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_20015_2020-05-15_plane1_proc';
% input_files.triggertiming_file = '20015_2020-05-15_trigdata_edited';
% input_files.regops_file = 'regops_20015_2020-05-15';
% input_files.scopetiming_file_rf = '20015_2020-05-15_trigdata_edited_scopetiming_rf';
%  input_files.scopetiming_file_dark = '20015_2020-05-15_trigdata_edited_scopetiming_dark';
% input_files.scopetiming_file_tuning = '20015_2020-05-15_trigdata_edited_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_15-May-2020 02;19;30_rf2';
% input_files.stimdata_file_tuning = 'stimdata_15-May-2020 01;41;54_tuning2';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_20004_2020-04-11_plane1_proc';
% input_files.triggertiming_file = '20004_2020-04-11_trigdata';
% input_files.regops_file = 'regops_20004_2020-04-11';
% input_files.scopetiming_file_rf = '20004_2020-04-11_trigdata_scopetiming_rf';
%  input_files.scopetiming_file_dark = '20004_2020-04-11_trigdata_scopetiming_dark';
% input_files.scopetiming_file_tuning = '20004_2020-04-11_trigdata_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_11-Apr-2020 04;07;01_rf';
% input_files.stimdata_file_tuning = 'stimdata_11-Apr-2020 05;04;33_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_20004_2020-04-08_plane2_proc';
% input_files.triggertiming_file = '20004_2020-04-08_trigdata_edited';
% input_files.regops_file = 'regops_20004_2020-04-08';
% input_files.scopetiming_file_rf = '20004_2020-04-08_trigdata_edited_scopetiming_rf';
%  input_files.scopetiming_file_dark = '20004_2020-04-08_trigdata_edited_scopetiming_dark';
% input_files.scopetiming_file_tuning = '20004_2020-04-08_trigdata_edited_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_08-Apr-2020 00;39;22_rf';
% input_files.stimdata_file_tuning = 'stimdata_08-Apr-2020 01;33;38_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = 'F:\20004\exvivo_lat\20004_overlay_s2_x10lat_patchdata';
% input_files.patch_reg_file = 'F:\20004\exvivo_lat\20004_2020-04-08_plane2_proc_time-avg_reg_to_20004_overlay_s2_x10lat';
% pars.fit_tuning_functions = 1

input_files.dff_file = 'dff_20004_2020-04-08_plane1_proc';
input_files.triggertiming_file = '20004_2020-04-08_trigdata_edited';
input_files.regops_file = 'regops_20004_2020-04-08';
input_files.scopetiming_file_rf = '20004_2020-04-08_trigdata_edited_scopetiming_rf';
 input_files.scopetiming_file_dark = '20004_2020-04-08_trigdata_edited_scopetiming_dark';
input_files.scopetiming_file_tuning = '20004_2020-04-08_trigdata_edited_scopetiming_tuning';
input_files.stimdata_file_rf = 'stimdata_08-Apr-2020 00;39;22_rf';
input_files.stimdata_file_tuning = 'stimdata_08-Apr-2020 01;33;38_tuning';
% % input_files.pupil_data_file = '';
input_files.patchdata_file = 'F:\20004\exvivo_lat\20004_overlay_s2_x10lat_patchdata';
input_files.patch_reg_file = 'F:\20004\exvivo_lat\20004_2020-04-08_plane1_proc_time-avg_reg_to_20004_overlay_s2_x10lat';
pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_20004_2020-04-07_plane2_proc';
% input_files.triggertiming_file = '20004_2020-04-07_trigdata_edited';
% input_files.regops_file = 'regops_20004_2020-04-07';
% input_files.scopetiming_file_rf = '20004_2020-04-07_trigdata_edited_scopetiming_rf';
%  input_files.scopetiming_file_dark = '20004_2020-04-07_trigdata_edited_scopetiming_dark';
% input_files.scopetiming_file_tuning = '20004_2020-04-07_trigdata_edited_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_07-Apr-2020 01;10;28_rf';
% input_files.stimdata_file_tuning = 'stimdata_07-Apr-2020 01;59;27_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1
% pars.responsivity_window_poststim_sec = [0 4]; % account for low sample rate

% input_files.dff_file = 'dff_20004_2020-04-04_plane1_proc';
% input_files.triggertiming_file = '20004_2020-04-04_trigdata';
% input_files.regops_file = 'regops_20004_2020-04-04';
% input_files.scopetiming_file_rf = '20004_2020-04-04_trigdata_scopetiming_rf';
%  input_files.scopetiming_file_dark = '20004_2020-04-04_trigdata_scopetiming_dark';
% input_files.scopetiming_file_tuning = '20004_2020-04-04_trigdata_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_04-Apr-2020 07;30;56_rf';
% input_files.stimdata_file_tuning = 'stimdata_04-Apr-2020 08;37;34_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_20004_2020-04-02_plane2_proc';
% input_files.triggertiming_file = '20004_2020-04-02_trigdata_edited';
% input_files.regops_file = 'regops_20004_2020-04-02';
% input_files.scopetiming_file_rf = '20004_2020-04-02_trigdata_edited_scopetiming_rf';
%  input_files.scopetiming_file_dark = '20004_2020-04-02_trigdata_edited_scopetiming_dark';
% input_files.scopetiming_file_tuning = '20004_2020-04-02_trigdata_edited_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_02-Apr-2020 07;31;29_rf';
% input_files.stimdata_file_tuning = 'stimdata_02-Apr-2020 08;28;54_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_20004_2020-04-01_plane1_proc';
% input_files.triggertiming_file = '20004_2020-04-01_trigdata';
% input_files.regops_file = 'regops_20004_2020-04-01';
% input_files.scopetiming_file_rf = '20004_2020-04-01_trigdata_scopetiming_rf';
%  input_files.scopetiming_file_dark = '20004_2020-04-01_trigdata_scopetiming_dark';
% input_files.scopetiming_file_tuning = '20004_2020-04-01_trigdata_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_01-Apr-2020 04;57;13_rf';
% input_files.stimdata_file_tuning = 'stimdata_01-Apr-2020 05;45;31_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = 'F:\20004\exvivo_mid\20004_overlay_s2_x10_patchdata';
% input_files.patch_reg_file = 'F:\20004\exvivo_mid\20004_2020-04-01_plane1_proc_time-avg_reg_to_20004_overlay_s2_x10';
% pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_20004_2020-03-29_plane1_proc';
% input_files.triggertiming_file = '20004_2020-03-29_trigdata';
% input_files.regops_file = 'regops_20004_2020-03-29';
% input_files.scopetiming_file_rf = '20004_2020-03-29_trigdata_scopetiming_rf';
%  input_files.scopetiming_file_dark = '20004_2020-03-29_trigdata_scopetiming_dark';
% input_files.scopetiming_file_tuning = '20004_2020-03-29_trigdata_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_29-Mar-2020 07;33;45_rf';
% input_files.stimdata_file_tuning = 'stimdata_29-Mar-2020 08;42;27_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 0

% input_files.dff_file = 'dff_20003_2020-03-25_plane2_proc';
% input_files.triggertiming_file = '20003_2020-03-25_trigdata_edited';
% input_files.regops_file = 'regops_20003_2020-03-25';
% input_files.scopetiming_file_rf = '20003_2020-03-25_trigdata_edited_scopetiming_rf';
%  input_files.scopetiming_file_dark = '20003_2020-03-25_trigdata_edited_scopetiming_dark';
% input_files.scopetiming_file_tuning = '20003_2020-03-25_trigdata_edited_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_25-Mar-2020 00;09;59_rf';
% input_files.stimdata_file_tuning = 'stimdata_25-Mar-2020 01;13;31_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1
% pars.responsivity_window_poststim_sec = [0 4]; % account for low sample rate

% input_files.dff_file = 'dff_20003_2020-03-24_plane2_proc';
% input_files.triggertiming_file = '20003_2020-03-24_trigdata_edited';
% input_files.regops_file = 'regops_20003_2020-03-24';
% input_files.scopetiming_file_rf = '20003_2020-03-24_trigdata_edited_scopetiming_rf';
% input_files.scopetiming_file_dark = '20003_2020-03-24_trigdata_edited_scopetiming_dark';
% input_files.scopetiming_file_tuning = '20003_2020-03-24_trigdata_edited_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_24-Mar-2020 02;50;21_rf';
% input_files.stimdata_file_tuning = 'stimdata_24-Mar-2020 03;41;01_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1
% pars.responsivity_window_poststim_sec = [0 4]; % account for low sample rate

% input_files.dff_file = 'dff_20003_2020-03-22_plane2_proc';
% input_files.triggertiming_file = '20003_2020-03-22_trigdata_edited';
% input_files.regops_file = 'regops_20003_2020-03-22';
% input_files.scopetiming_file_rf = '20003_2020-03-22_trigdata_edited_scopetiming_rf';
%  input_files.scopetiming_file_dark = '20003_2020-03-22_trigdata_edited_scopetiming_dark';
% input_files.scopetiming_file_tuning = '20003_2020-03-22_trigdata_edited_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_23-Mar-2020 00;12;30_rf';
% input_files.stimdata_file_tuning = 'stimdata_23-Mar-2020 01;01;21_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1
% pars.responsivity_window_poststim_sec = [0 4]; % account for low sample rate

% input_files.dff_file = 'dff_20003_2020-03-20_plane2_proc';
% input_files.triggertiming_file = '20003_2020-03-20_trigdata';
% input_files.regops_file = 'regops_20003_2020-03-20';
% input_files.scopetiming_file_rf = '20003_2020-03-20_trigdata_scopetiming_rf';
%  input_files.scopetiming_file_dark = '20003_2020-03-20_trigdata_scopetiming_dark';
% input_files.scopetiming_file_tuning = '20003_2020-03-20_trigdata_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_20-Mar-2020 22;27;29_rf2';
% input_files.stimdata_file_tuning = 'stimdata_20-Mar-2020 23;18;08_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1
% pars.responsivity_window_poststim_sec = [0 4]; % account for low sample rate

% input_files.dff_file = 'dff_19089_2020-01-20_plane2_proc';
% input_files.triggertiming_file = '19089_2020-01-20_trigdata_edited';
% input_files.regops_file = 'regops_19089_2020-01-20';
% input_files.scopetiming_file_rf = '19089_2020-01-20_trigdata_edited_scopetiming_rf';
%  input_files.scopetiming_file_dark = '19089_2020-01-20_trigdata_edited_scopetiming_dark';
% input_files.scopetiming_file_tuning = '19089_2020-01-20_trigdata_edited_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_20-Jan-2020 20;22;27_rf2';
% input_files.stimdata_file_tuning = 'stimdata_20-Jan-2020 21;16;00_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1
%  pars.responsivity_window_poststim_sec = [0 4]; % account for low sample rate

% input_files.dff_file = 'dff_19089_2020-01-17_plane1_proc';
% input_files.triggertiming_file = '19089_2020-01-17_trigdata';
% input_files.regops_file = 'regops_19089_2020-01-17';
% input_files.scopetiming_file_rf = '19089_2020-01-17_trigdata_scopetiming_rf';
%  input_files.scopetiming_file_dark = '19089_2020-01-17_trigdata_scopetiming_dark';
% input_files.scopetiming_file_tuning = '19089_2020-01-17_trigdata_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_17-Jan-2020 17;44;18_rf2';
% input_files.stimdata_file_tuning = 'stimdata_17-Jan-2020 18;28;49_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_19089_2020-01-16_plane1_proc';
% input_files.triggertiming_file = '19089_2020-01-16_trigdata';
% input_files.regops_file = 'regops_19089_2020-01-16';
% input_files.scopetiming_file_rf = '19089_2020-01-16_trigdata_scopetiming_rf';
%  input_files.scopetiming_file_dark = '19089_2020-01-16_trigdata_scopetiming_dark';
% input_files.scopetiming_file_tuning = '19089_2020-01-16_trigdata_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_16-Jan-2020 15;49;18_rf';
% input_files.stimdata_file_tuning = 'stimdata_16-Jan-2020 16;44;38_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_19048_2019-04-16_plane1_proc';
% input_files.triggertiming_file = '19048_2019-04-16_trigdata';
% input_files.regops_file = 'regops_19048_2019-04-16';
% input_files.scopetiming_file_rf = '19048_2019-04-16_trigdata_scopetiming_rf';
%  input_files.scopetiming_file_dark = '19048_2019-04-16_trigdata_scopetiming_dark';
% input_files.scopetiming_file_tuning = '19048_2019-04-16_trigdata_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_16-Apr-2019 21;47;12_rf';
% input_files.stimdata_file_tuning = 'stimdata_16-Apr-2019 22;45;41_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_19048_2019-04-15_plane1_proc';
% input_files.triggertiming_file = '19048_2019-04-15_trigdata';
% input_files.regops_file = 'regops_19048_2019-04-15';
% input_files.scopetiming_file_rf = '19048_2019-04-15_trigdata_scopetiming_rf';
%  input_files.scopetiming_file_dark = '19048_2019-04-15_trigdata_scopetiming_dark';
% input_files.scopetiming_file_tuning = '19048_2019-04-15_trigdata_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_15-Apr-2019 23;43;00_rf';
% input_files.stimdata_file_tuning = 'stimdata_16-Apr-2019 00;44;16_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_19048_2019-04-13_plane1_proc';
% input_files.triggertiming_file = '19048_2019-04-13_trigdata';
% input_files.regops_file = 'regops_19048_2019-04-13';
% input_files.scopetiming_file_rf = '19048_2019-04-13_trigdata_scopetiming_rf';
%  input_files.scopetiming_file_dark = '19048_2019-04-13_trigdata_scopetiming_dark';
% input_files.scopetiming_file_tuning = '19048_2019-04-13_trigdata_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_13-Apr-2019 21;16;38_rf';
% input_files.stimdata_file_tuning = 'stimdata_13-Apr-2019 22;10;33_tuning';
% % input_files.pupil_data_file = '';
% input_files.patchdata_file = 'F:\19048\2019-04-13\19048_ctx_m2tdt_s3_x10_1s_matches4-13_patchdata';
% input_files.patch_reg_file = 'F:\19048\2019-04-13\19048_2019-04-13_plane1_proc_time-avg_reg_to_19048_ctx_overlay_s3_x10_matches4-13';
% pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_19048_2019-04-12_plane1_proc';
% input_files.triggertiming_file = '19048_2019-04-12_trigdata';
% input_files.regops_file = 'regops_19048_2019-04-12';
% input_files.scopetiming_file_rf = '19048_2019-04-12_trigdata_scopetiming_rf';
%  input_files.scopetiming_file_dark = '19048_2019-04-12_trigdata_scopetiming_dark';
% input_files.scopetiming_file_tuning = '19048_2019-04-12_trigdata_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_12-Apr-2019 22;15;36_rf';
% input_files.stimdata_file_tuning = 'stimdata_12-Apr-2019 23;04;40_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = 'F:\19048\2019-04-12\19048_ctx_m2tdt_s3_x10_1s_matches4-12_patchdata';
% input_files.patch_reg_file = 'F:\19048\2019-04-12\19048_2019-04-12_plane1_proc_time-avg_reg_to_19048_ctx_overlay_s3_x10_matches4-12';
% pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_19042_2019-04-01_plane1_proc';
% input_files.triggertiming_file = '19042_2019-04-01_trigdata';y
% input_files.regops_file = 'regops_19042_2019-04-01';
% input_files.scopetiming_file_rf = '19042_2019-04-01_trigdata_scopetiming_rf';
%  input_files.scopetiming_file_dark = '19042_2019-04-01_trigdata_scopetiming_dark1';
% input_files.scopetiming_file_tuning = '19042_2019-04-01_trigdata_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_01-Apr-2019 21;09;54_rf';
% input_files.stimdata_file_tuning = 'stimdata_01-Apr-2019 22;16;57_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_19042_2019-03-30_plane1_proc';
% input_files.triggertiming_file = '19042_2019-03-30_trigdata';
% input_files.regops_file = 'regops_19042_2019-03-30';
% input_files.scopetiming_file_rf = '19042_2019-03-30_trigdata_scopetiming_rf';
%  input_files.scopetiming_file_dark = '19042_2019-03-30_trigdata_scopetiming_dark';
% input_files.scopetiming_file_tuning = '19042_2019-03-30_trigdata_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_30-Mar-2019 17;44;58_rf';
% input_files.stimdata_file_tuning = 'stimdata_30-Mar-2019 19;16;40_tuning';
% input_files.pupil_data_file = []; % '19042_2019-03-30_pupildata';
% input_files.patchdata_file = '19042_ctx_overlay_s2_x10_matches3-30_patchdata';
% input_files.patch_reg_file = '19042_2019-03-30_plane1_proc_time-avg_reg_to_19042_ctx_overlay_s2_x10_matches3-30';
% pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_19003_2019-02-26_plane1_proc';
% input_files.triggertiming_file = '19003_2019-02-26_trigdata';
% input_files.regops_file = 'regops_19003_2019-02-26';
% input_files.scopetiming_file_rf = '19003_2019-02-26_trigdata_scopetiming_rf';
%  input_files.scopetiming_file_dark = [];
% input_files.scopetiming_file_tuning = '19003_2019-02-26_trigdata_scopetiming_tuning_dim';
% input_files.stimdata_file_rf = 'stimdata_26-Feb-2019 21;00;24_rf';
% input_files.stimdata_file_tuning = 'stimdata_26-Feb-2019 20;46;38_tuning_dim';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_19003_2019-02-26_plane1_proc';
% input_files.triggertiming_file = '19003_2019-02-26_trigdata';
% input_files.regops_file = 'regops_19003_2019-02-26';
% input_files.scopetiming_file_rf = '19003_2019-02-26_trigdata_scopetiming_rf';
% input_files.scopetiming_file_dark = [];
% input_files.scopetiming_file_tuning = '19003_2019-02-26_trigdata_scopetiming_tuning_bright';
% input_files.stimdata_file_rf = 'stimdata_26-Feb-2019 21;00;24_rf';
% input_files.stimdata_file_tuning = 'stimdata_26-Feb-2019 20;31;30_tuning_bright';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1

% input_files.dff_file = 'dff_19003_2019-01-22_plane1_proc';
% input_files.triggertiming_file = '19003_2019-01-22_trigdata';
% input_files.regops_file = 'regops_19003_2019-01-22';
% input_files.scopetiming_file_rf = '19003_2019-01-22_trigdata_scopetiming_rf';
% input_files.scopetiming_file_dark = '19003_2019-01-22_trigdata_scopetiming_dark';
% input_files.scopetiming_file_tuning = '19003_2019-01-22_trigdata_scopetiming_tuning';
% input_files.stimdata_file_rf = 'stimdata_22-Jan-2019 17;04;47_rf2';
% input_files.stimdata_file_tuning = 'stimdata_22-Jan-2019 17;42;53_tuning';
% % % input_files.pupil_data_file = '';
% input_files.patchdata_file = [];
% input_files.patch_reg_file = [];
% pars.fit_tuning_functions = 1











%%% updated 2019/10/7 on thermaltake


input_files.pupil_data_file = field_default(input_files, 'pupil_data_file',[]);
input_files.patchdata_file = field_default(input_files, 'patchdata_file',[]);
input_files.patch_reg_file = field_default(input_files, 'patch_reg_file',[]);
tuningdat = full_session_analysis(input_files,pars);

clear pars