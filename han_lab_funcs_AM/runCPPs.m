% close all; clear all;
saveDIR='G:\MA Data\CPPs\';
saveName='CPPstatsSPWithMids2.mat';
if ~exist(saveDIR,'dir')
    mkdir(saveDIR)
end
    varlist='mouseCPP';
load([saveDIR,saveName]);


% %% S21 MorCPP
% m=1;
% curr=1;
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%     MixedNeuronTestCPP(5.2,3,'S21 Pre',...
%     {'170330_SW_000_002_SP_1.mat','170330_SW_000_002_SP_2.mat',...
%     '170330_SW_000_002_SP_3.mat'},...
%     {'G:\CPP\S21\Pre\Suite2P Fcs\','G:\CPP\S21\Pre\Suite2P Fcs\',...
%     'G:\CPP\S21\Pre\Suite2P Fcs\'},0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=1;
% curr=2;
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%     MixedNeuronTestCPP(5.2,3,'S21 Post',...
%     {'170417_SW_000_001_SP_1.mat','170417_SW_000_001_SP_2.mat',...
%     '170417_SW_000_001_SP_3.mat'},...
%     {'G:\CPP\S21\Post\Suite2P Fcs\','G:\CPP\S21\Post\Suite2P Fcs\',...
%     'G:\CPP\S21\Post\Suite2P Fcs\'},0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% 
% %% S21 H2O
% m=1;
% curr=3;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,4,'S21 1A',...
%     {'170213_001_SP_1.mat','170213_001_SP_2.mat',...
%     '170213_001_SP_3.mat','170213_001_SP_4.mat' ...
%     },...
%     {'G:\CPP\S21 H20\1A\','G:\CPP\S21 H20\1A\',...
%     'G:\CPP\S21 H20\1A\','G:\CPP\S21 H20\1A\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=1;
% curr=4;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,4,'S21 5A',...
%     {'170217_000_001_SP_1.mat','170217_000_001_SP_2.mat',...
%     '170217_000_001_SP_3.mat','170217_000_001_SP_4.mat' ...
%     },...
%     {'G:\CPP\S21 H20\5A\','G:\CPP\S21 H20\5A\',...
%     'G:\CPP\S21 H20\5A\','G:\CPP\S21 H20\5A\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=1;
% curr=5;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,1,'S21 10A',...
%     {'17170223_000_002_SP_1.mat'...
%     },...
%     {'G:\CPP\S21 H20\10A\'...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=1;
% curr=6;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,4,'S21 TA',...
%     {'170228_001_SP_1.mat','170228_001_SP_2.mat',...
%     '170228_001_SP_3.mat','170228_001_SP_4.mat' ...
%     },...
%     {'G:\CPP\S21 H20\TA\','G:\CPP\S21 H20\TA\',...
%     'G:\CPP\S21 H20\TA\','G:\CPP\S21 H20\TA\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=1;
% curr=7;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,5,'S21 1B',...
%     {'170301_001_SP_1.mat','170301_001_SP_2.mat',...
%     '170301_001_SP_3.mat','170301_001_SP_4.mat','170301_001_SP_5.mat' ...
%     },...
%     {'G:\CPP\S21 H20\1B\','G:\CPP\S21 H20\1B\',...
%     'G:\CPP\S21 H20\1B\','G:\CPP\S21 H20\1B\','G:\CPP\S21 H20\1B\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=1;
% curr=8;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,5,'S21 5B',...
%     {'170306_000_001_SP_1.mat','170306_000_001_SP_2.mat',...
%     '170306_000_001_SP_3.mat','170306_000_001_SP_4.mat','170306_000_001_SP_5.mat' ...
%     },...
%     {'G:\CPP\S21 H20\5B\','G:\CPP\S21 H20\5B\',...
%     'G:\CPP\S21 H20\5B\','G:\CPP\S21 H20\5B\','G:\CPP\S21 H20\5B\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=1;
% curr=9;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%        MixedNeuronTestCPP(5.2,4,'S21 10B',...
%     {'170308_000_002_SP_1.mat','170308_000_002_SP_2.mat',...
%     '170308_000_002_SP_3.mat','170308_000_002_SP_4.mat' ...
%     },...
%     {'G:\CPP\S21 H20\10B\','G:\CPP\S21 H20\10B\',...
%     'G:\CPP\S21 H20\10B\','G:\CPP\S21 H20\10B\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=1;
% curr=10;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%        MixedNeuronTestCPP(5.2,4,'S21 TB',...
%     {'170309_001_SP_1.mat','170309_001_SP_2.mat',...
%     '170309_001_SP_3.mat','170309_001_SP_4.mat' ...
%     },...
%     {'G:\CPP\S21 H20\TB\','G:\CPP\S21 H20\TB\',...
%     'G:\CPP\S21 H20\TB\','G:\CPP\S21 H20\TB\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% %% S22 Mor
% m=2;
% curr=1;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,4,'S22 Pre',...
%     {'170330_SW_000_003_SP_1.mat','170330_SW_000_003_SP_2.mat',...
%     '170330_SW_000_003_SP_3.mat','170330_SW_000_003_SP_4.mat' ...
%     },...
%     {'G:\CPP\S22\Pre\Suite2p Fcs\','G:\CPP\S22\Pre\Suite2p Fcs\',...
%     'G:\CPP\S22\Pre\Suite2p Fcs\','G:\CPP\S22\Pre\Suite2p Fcs\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=2;
% curr=2;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%     MixedNeuronTestCPP(5.2,4,'S22 Post',...
%     {'170417_SW_000_002_SP_1.mat','170417_SW_000_002_SP_2.mat',...
%     '170417_SW_000_002_SP_3.mat','170417_SW_000_002_SP_4.mat' ...
%     },...
%     {'G:\CPP\S22\Post\Suite2p Fcs\','G:\CPP\S22\Post\Suite2p Fcs\',...
%     'G:\CPP\S22\Post\Suite2p Fcs\','G:\CPP\S22\Post\Suite2p Fcs\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=2;
% curr=3;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,4,'S22 Pre Registered With Post',...
%     {'170330_SW_000_003_SP_Registeredwith_170417_SW_000_0021.mat','170330_SW_000_003_SP_Registeredwith_170417_SW_000_0022.mat',...
%     '170330_SW_000_003_SP_Registeredwith_170417_SW_000_0023.mat','170330_SW_000_003_SP_Registeredwith_170417_SW_000_0024.mat' ...
%     },...
%     {'G:\CPP\S22\Pre\Suite2p Fcs\','G:\CPP\S22\Pre\Suite2p Fcs\',...
%     'G:\CPP\S22\Pre\Suite2p Fcs\','G:\CPP\S22\Pre\Suite2p Fcs\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=2;
% curr=4;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%     MixedNeuronTestCPP(5.2,4,'S22 Post Resgistered With Pre',...
%     {'170417_SW_000_002_SP_Registeredwith_170330_SW_000_0031.mat','170417_SW_000_002_SP_Registeredwith_170330_SW_000_0032.mat',...
%     '170417_SW_000_002_SP_Registeredwith_170330_SW_000_0033.mat','170417_SW_000_002_SP_Registeredwith_170330_SW_000_0034.mat' ...
%     },...
%     {'G:\CPP\S22\Post\Suite2p Fcs\','G:\CPP\S22\Post\Suite2p Fcs\',...
%     'G:\CPP\S22\Post\Suite2p Fcs\','G:\CPP\S22\Post\Suite2p Fcs\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% %% S22 H2O
% m=2;
% curr=5;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,4,'S22 H20 1A',...
%     {'170213_SW_000_002_SP_1.mat','170213_SW_000_002_SP_2.mat',...
%     '170213_SW_000_002_SP_3.mat','170213_SW_000_002_SP_4.mat', ...
%     '170213_SW_000_002_p5_cro_XC_1_ca__allF.mat','170213_SW_000_002__p6_c_XC_d_ca__allF.mat'},...
%     {'G:\CPP\S22 H20\D1\Suite2P Fcs\','G:\CPP\S22 H20\D1\Suite2P Fcs\',...
%     'G:\CPP\S22 H20\D1\Suite2P Fcs\','G:\CPP\S22 H20\D1\Suite2P Fcs\', ...
%     'G:\S22 H20\D1\Cropped Fcas\','G:\S22 H20\D1\Cropped Fcas\'},0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=2;
% curr=6;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%     MixedNeuronTestCPP(5.2,4,'S22 H20 5A',...
%     {'170217_SW_000_004_SP_1.mat','170217_SW_000_004_SP_2.mat',...
%     '170217_SW_000_004_SP_3.mat','170217_SW_000_004_SP_4.mat' ...
%     },...
%     {'G:\CPP\S22 H20\Dsomething\Suite2P Fcs\','G:\CPP\S22 H20\Dsomething\Suite2P Fcs\',...
%     'G:\CPP\S22 H20\Dsomething\Suite2P Fcs\','G:\CPP\S22 H20\Dsomething\Suite2P Fcs\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=2;
% curr=7;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%     MixedNeuronTestCPP(5.2,4,'S22 H20 10A',...
%     {'170223_SW_000_004_SP_1.mat','170223_SW_000_004_SP_2.mat',...
%     '170223_SW_000_004_SP_3.mat','170223_SW_000_004_SP_4.mat'...
%     },...
%     {'G:\CPP\S22 H20\Dlast\Suite2P Fcs\','G:\CPP\S22 H20\Dlast\Suite2P Fcs\',...
%     'G:\CPP\S22 H20\Dlast\Suite2P Fcs\','G:\CPP\S22 H20\Dlast\Suite2P Fcs\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=2;
% curr=8;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,6,'S22 TA',...
%     {'170228_002_SP_1.mat','170228_002_SP_2.mat',...
%     '170228_002_SP_3.mat','170228_002_SP_4.mat' ...
%     '170228_002_SP_5.mat','170228_002_SP_6.mat' ...
%     },...
%     {'G:\CPP\S22 H20\TA\','G:\CPP\S22 H20\TA\',...
%     'G:\CPP\S22 H20\TA\','G:\CPP\S22 H20\TA\' ...
%     'G:\CPP\S22 H20\TA\','G:\CPP\S22 H20\TA\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=2;
% curr=9;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%     MixedNeuronTestCPP(5.2,6,'S22 1B',...
%     {'170301_002_SP_1.mat','170301_002_SP_2.mat',...
%     '170301_002_SP_3.mat','170301_002_SP_4.mat', ...
%     '170301_002_SP_4.mat','170301_002_SP_6.mat', ...
%     },...
%     {'G:\CPP\S22 H20\1B\','G:\CPP\S22 H20\1B\',...
%     'G:\CPP\S22 H20\1B\','G:\CPP\S22 H20\1B\', ...
%     'G:\CPP\S22 H20\1B\','G:\CPP\S22 H20\1B\', ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=2;
% curr=10;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,6,'S22 5B',...
%     {'170306_000_002_SP_1.mat','170306_000_002_SP_2.mat',...
%     '170306_000_002_SP_3.mat','170306_000_002_SP_4.mat', ...
%     '170306_000_002_SP_5.mat','170306_000_002_SP_6.mat', ...
%     },...
%     {'G:\CPP\S22 H20\5B\','G:\CPP\S22 H20\5B\',...
%     'G:\CPP\S22 H20\5B\','G:\CPP\S22 H20\5B\', ...
%     'G:\CPP\S22 H20\5B\','G:\CPP\S22 H20\5B\', ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=2;
% curr=11;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,6,'S22 7B',...
%     {'170308_000_003_SP_1.mat','170308_000_003_SP_2.mat',...
%     '170308_000_003_SP_3.mat','170308_000_003_SP_4.mat', ...
%     '170308_000_003_SP_5.mat','170308_000_003_SP_6.mat', ...
%     },...
%     {'G:\CPP\S22 H20\7B\','G:\CPP\S22 H20\7B\',...
%     'G:\CPP\S22 H20\7B\','G:\CPP\S22 H20\7B\', ...
%     'G:\CPP\S22 H20\7B\','G:\CPP\S22 H20\7B\', ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=2;
% curr=12;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,4,'S22 9B',...
%     {'170310_000_000_SP_1.mat','170310_000_000_SP_2.mat',...
%     '170310_000_000_SP_3.mat','170310_000_000_SP_4.mat', ...
%     },...
%     {'G:\CPP\S22 H20\9B\','G:\CPP\S22 H20\9B\',...
%     'G:\CPP\S22 H20\9B\','G:\CPP\S22 H20\9B\', ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=2;
% curr=13;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,4,'S22 TB',...
%     {'170314_000_SP_1.mat','170314_000_SP_2.mat',...
%     '170314_000_SP_3.mat','170314_000_SP_4.mat', ...
%     },...
%     {'G:\CPP\S22 H20\TB\','G:\CPP\S22 H20\TB\',...
%     'G:\CPP\S22 H20\TB\','G:\CPP\S22 H20\tB\', ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');

%% S20 H2O
% m=3;
% curr=1;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,4,'S20 1A',...
%     {'170213_000_SP_1.mat','170213_000_SP_2.mat',...
%     '170213_000_SP_3.mat','170213_000_SP_4.mat' ...
%     },...
%     {'G:\CPP\S20 H20\1A\','G:\CPP\S20 H20\1A\',...
%     'G:\CPP\S20 H20\1A\','G:\CPP\S20 H20\1A\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=3;
% curr=2;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,3,'S20 5A',...
%     {'170217_000_000_SP_1.mat','170217_000_000_SP_2.mat',...
%     '170217_000_000_SP_3.mat' ...
%     },...
%     {'G:\CPP\S20 H20\5A\','G:\CPP\S20 H20\5A\',...
%     'G:\CPP\S20 H20\5A\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=3;
% curr=3;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,4,'S20 10A',...
%     {'170223_000_001_SP_1.mat','170223_000_001_SP_2.mat',...
%     '170223_000_001_SP_3.mat','170223_000_001_SP_4.mat' ...
%     },...
%     {'G:\CPP\S20 H20\10A\','G:\CPP\S20 H20\10A\',...
%     'G:\CPP\S20 H20\10A\' ,'G:\CPP\S20 H20\10A\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=3;
% curr=4;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,6,'S20 TA',...
%     {'170228_000_SP_1.mat','170228_000_SP_2.mat',...
%     '170228_000_SP_3.mat','170228_000_SP_4.mat' ...
%     '170228_000_SP_5.mat','170228_000_SP_6.mat' ...
%     },...
%     {'G:\CPP\S20 H20\TA\','G:\CPP\S20 H20\TA\',...
%     'G:\CPP\S20 H20\TA\','G:\CPP\S20 H20\TA\' ...
%     'G:\CPP\S20 H20\TA\','G:\CPP\S20 H20\TA\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=3;
% curr=5;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,5,'S20 1B',...
%     {'170301_000_SP_1.mat','170301_000_SP_2.mat',...
%     '170301_000_SP_3.mat','170301_000_SP_4.mat','170301_000_SP_5.mat' ...
%     },...
%     {'G:\CPP\S20 H20\1B\','G:\CPP\S20 H20\1B\',...
%     'G:\CPP\S20 H20\1B\','G:\CPP\S20 H20\1B\','G:\CPP\S20 H20\1B\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=3;
% curr=6;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,5,'S20 5B',...
%     {'170306_000_000_SP_1.mat','170306_000_000_SP_2.mat',...
%     '170306_000_000_SP_3.mat','170306_000_000_SP_4.mat','170306_000_000_SP_5.mat' ...
%     },...
%     {'G:\CPP\S20 H20\5B\','G:\CPP\S20 H20\5B\',...
%     'G:\CPP\S20 H20\5B\','G:\CPP\S20 H20\5B\','G:\CPP\S20 H20\5B\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=3;
% curr=7;
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,5,'S20 10B',...
%     {'170308_000_000_SP_1.mat','170308_000_000_SP_2.mat',...
%     '170308_000_000_SP_3.mat','170308_000_000_SP_4.mat','170308_000_000_SP_5.mat' ...
%     },...
%     {'G:\CPP\S20 H20\10B\','G:\CPP\S20 H20\10B\',...
%     'G:\CPP\S20 H20\10B\','G:\CPP\S20 H20\10B\','G:\CPP\S20 H20\10B\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=3;
% curr=8;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%        MixedNeuronTestCPP(5.2,4,'S20 TB',...
%     {'170309_000_SP_1.mat','170309_000_SP_2.mat',...
%     '170309_000_SP_3.mat','170309_000_SP_4.mat' ...
%     },...
%     {'G:\CPP\S20 H20\TB\','G:\CPP\S20 H20\TB\',...
%     'G:\CPP\S20 H20\TB\','G:\CPP\S20 H20\TB\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');

%% S20 Mor
% 
% m=3;
% curr=9;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%        MixedNeuronTestCPP(5.2,4,'S20 Pre',...
%     {'170330_SW_000_000_SP_1.mat','170330_SW_000_000_SP_2.mat',...
%     '170330_SW_000_000_SP_4.mat','170330_SW_000_000_SP_4.mat' ...
%     },...
%     {'G:\CPP\S20\S20 MOR\1\','G:\CPP\S20\S20 MOR\1\',...
%     'G:\CPP\S20\S20 MOR\1\','G:\CPP\S20\S20 MOR\1\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% % 
% m=3;
% curr=10;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%        MixedNeuronTestCPP(5.2,4,'S20 Post',...
%     {'170417_SW_000_000_SP_1.mat','170417_SW_000_000_SP_2.mat',...
%     '170417_SW_000_000_SP_3.mat','170417_SW_000_000_SP_4.mat' ...
%     },...
%     {'G:\CPP\S20\S20 MOR\18\','G:\CPP\S20\S20 MOR\18\',...
%     'G:\CPP\S20\S20 MOR\18\','G:\CPP\S20\S20 MOR\18\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');

%% S23 H2O
% m=4;
% curr=1;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,4,'S23 1A',...
%     {'170213_003_SP_1.mat','170213_003_SP_2.mat',...
%     '170213_003_SP_3.mat','170213_003_SP_4.mat' ...
%     '170213_003_SP_5.mat','170213_003_SP_6.mat' ...
%     },...
%     {'G:\CPP\S23 H20\1A\','G:\CPP\S23 H20\1A\',...
%     'G:\CPP\S23 H20\1A\','G:\CPP\S23 H20\1A\' ...
%     'G:\CPP\S23 H20\1A\','G:\CPP\S23 H20\1A\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=4;
% curr=2;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,1,'S23 5A',...
%     {'170217_000_005_SP_1.mat',...
%     },...
%     {'G:\CPP\S23 H20\5A\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=4;
% curr=3;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,1,'S23 10A',...
%     {'170223_000_006_SP_1.mat',...
%     },...
%     {'G:\CPP\S23 H20\10A\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=4;
% curr=4;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,5,'S23 TA',...
%     {'170303_000_SP_1.mat','170303_000_SP_2.mat',...
%     '170303_000_SP_3.mat','170303_000_SP_4.mat' ...
%     '170303_000_SP_5.mat' ...
%     },...
%     {'G:\CPP\S23 H20\TA\','G:\CPP\S23 H20\TA\',...
%     'G:\CPP\S23 H20\TA\','G:\CPP\S23 H20\TA\' ...
%     'G:\CPP\S23 H20\TA\' ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=4;
% curr=5;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,4,'S23 1B',...
%     {'170306_003_SP_1.mat','170306_003_SP_2.mat',...
%     '170306_003_SP_3.mat','170306_003_SP_4.mat', ...
%     },...
%     {'G:\CPP\S23 H20\1B\','G:\CPP\S23 H20\1B\',...
%     'G:\CPP\S23 H20\1B\','G:\CPP\S23 H20\1B\', ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=4;
% curr=6;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,4,'S23 4B',...
%     {'170308_000_007_SP_1.mat','170308_000_007_SP_2.mat',...
%     '170308_000_007_SP_3.mat','170308_000_007_SP_4.mat', ...
%     },...
%     {'G:\CPP\S23 H20\4B\','G:\CPP\S23 H20\4B\',...
%     'G:\CPP\S23 H20\4B\','G:\CPP\S23 H20\4B\', ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=4;
% curr=7;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%      MixedNeuronTestCPP(5.2,4,'S23 6B',...
%     {'170310_000_001_SP_1.mat','170310_000_001_SP_2.mat',...
%     '170310_000_001_SP_3.mat','170310_000_001_SP_4.mat', ...
%     },...
%     {'G:\CPP\S23 H20\6B\','G:\CPP\S23 H20\6B\',...
%     'G:\CPP\S23 H20\6B\','G:\CPP\S23 H20\6B\', ...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');
% 
% m=4;
% curr=8;
% 
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%        MixedNeuronTestCPP(5.2,4,'S23 TB',...
%     {'170317_000_SP_1.mat','170317_000_SP_2.mat',...
%     '170317_000_SP_3.mat','170317_000_SP_4.mat'...
%     },...
%     {'G:\CPP\S23 H20\TB\','G:\CPP\S23 H20\TB\',...
%     'G:\CPP\S23 H20\TB\','G:\CPP\S23 H20\TB\'...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');


%% S23 Mor
m=4;
curr=9;
[mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
    mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
    mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
       MixedNeuronTestCPP(5.2,4,'S23 Pre',...
    {'170330_SW_000_004_SP_1.mat','170330_SW_000_004_SP_2.mat',...
    '170330_SW_000_004_SP_3.mat','170330_SW_000_004_SP_4.mat'...
    },...
    {'G:\CPP\S23\S23 MOR\1\','G:\CPP\S23\S23 MOR\1\',...
    'G:\CPP\S23\S23 MOR\1\','G:\CPP\S23\S23 MOR\1\'...
    },0,'new');
save([saveDIR,saveName],varlist,'-v7.3');
% 
% 
% m=4;
% curr=10;
% [mouseCPP(m).FPyrs{curr},mouseCPP(m).FInts{curr},mouseCPP(m).Rotations{curr},mouseCPP(m).Forwards{curr},...
%     mouseCPP(m).CPPPyr{curr},mouseCPP(m).CPPInt{curr},mouseCPP(m).ybinned{curr},mouseCPP(m).rewards{curr},...
%     mouseCPP(m).spks{curr},mouseCPP(m).masks{curr},mouseCPP(m).meanImages{curr}]=...
%        MixedNeuronTestCPP(5.2,4,'S23 Post',...
%     {'170417_SW_000_003_SP_1.mat','170417_SW_000_003_SP_2.mat',...
%     '170417_SW_000_003_SP_3.mat','170417_SW_000_003_SP_4.mat'...
%     },...
%     {'G:\CPP\S23\S23 MOR\18\','G:\CPP\S23\S23 MOR\18\',...
%     'G:\CPP\S23\S23 MOR\18\','G:\CPP\S23\S23 MOR\18\'...
%     },0,'new');
% save([saveDIR,saveName],varlist,'-v7.3');

